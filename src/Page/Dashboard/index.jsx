import { Typography, Grid } from "@material-ui/core";
import React, { useState, useEffect } from "react";
import { Gap } from "../../component";
import Covid from "./covid";
import Kunjungan from "./kunjungan";
import moment from "moment";
import LihatObat from "../DataObat/lihatObat";
import TombolAdmin from "../../component/buttonAdmin/fetchData";
export default function Dashboard() {
  const permanentMenu = localStorage.getItem("user");
  const userData = JSON.parse(permanentMenu);
  const [onSelected, setOnSelected] = useState(false);

  useEffect(() => {
    displayButtonMaintenance();
  }, []);
  const displayButtonMaintenance = () => {
    if (userData && userData.role === "admin") {
      return <TombolAdmin />;
    } else {
    }
  };
  return (
    <Grid
      container
      xs={10}
      sm={10}
      spacing={1}
      style={{
        paddingTop: "10px ",
        margin: "0 auto",
        textAlign: "center",
        width: "700px",
      }}
    >
      <Gap height={40} />
      <Grid
        container
        item
        xs={12}
        sm={12}
        style={{ textAlign: "center", margin: "0 auto" }}
      >
        {" "}
        <Grid item sm={12}>
          <Typography style={{ textAlign: "center", margin: "0 auto" }}>
            {moment().format(" dddd, D MMMM  YYYY")}
          </Typography>
        </Grid>
        <Grid
          container
          item
          sm={12}
          style={{ textAlign: "center", margin: "0 auto" }}
        >
          <Gap height={40} />
          <Kunjungan onSelected={() => setOnSelected(!onSelected)} />
          <Gap height={40} />
          <Grid item xs={12} sm={12}>
            <LihatObat style={{ textAlign: "center", margin: "0 auto" }} />
          </Grid>
          <Gap height={40} />
          <Covid />
          <Gap height={40} />
          <Grid item xs={12} sm={12}>
            {displayButtonMaintenance()}
          </Grid>
        </Grid>
      </Grid>
    </Grid>
  );
}
